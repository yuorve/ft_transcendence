'use strict';

var shared = require('@vueuse/shared');
var database = require('firebase/database');
var vue = require('vue');

function useRTDB(docRef, options = {}) {
  const {
    errorHandler = (err) => console.error(err),
    autoDispose = true
  } = options;
  const data = vue.ref(void 0);
  function update(snapshot) {
    data.value = snapshot.val();
  }
  const off = database.onValue(docRef, update, errorHandler);
  if (autoDispose)
    shared.tryOnScopeDispose(() => off());
  return data;
}

exports.useRTDB = useRTDB;
