(function(f,o,i,d,v){"use strict";function h(t){const e=o.ref(t.currentUser),a=o.computed(()=>!!e.value);return t.onIdTokenChanged(s=>e.value=s),{isAuthenticated:a,user:e}}function D(t){const e=t.data();return e&&Object.defineProperty(e,"id",{value:t.id.toString(),writable:!1}),e}function m(t){var e;return(((e=t.path)==null?void 0:e.match(/\//g))||[]).length%2!==0}function S(t,e=void 0,a={}){const{errorHandler:s=l=>console.error(l),autoDispose:u=!0}=a,c=o.isRef(t)?t:o.computed(()=>t);let r=()=>{};const n=o.ref(e);return o.watch(c,l=>{r(),c.value?m(c.value)?r=d.onSnapshot(l,p=>{n.value=D(p)||null},s):r=d.onSnapshot(l,p=>{n.value=p.docs.map(D).filter(i.isDef)},s):n.value=e},{immediate:!0}),u===!0?i.tryOnScopeDispose(()=>{r()}):typeof u=="number"&&i.tryOnScopeDispose(()=>{i.useTimeoutFn(()=>{r()},u)}),n}function g(t,e={}){const{errorHandler:a=n=>console.error(n),autoDispose:s=!0}=e,u=o.ref(void 0);function c(n){u.value=n.val()}const r=v.onValue(t,c,a);return s&&i.tryOnScopeDispose(()=>r()),u}f.useAuth=h,f.useFirestore=S,f.useRTDB=g})(this.VueUse=this.VueUse||{},Vue,VueUse,firebase,firebase);
