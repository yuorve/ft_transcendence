(function(d,s,c,o){"use strict";function f(t){const e=t.data();return e&&Object.defineProperty(e,"id",{value:t.id.toString(),writable:!1}),e}function m(t){var e;return(((e=t.path)==null?void 0:e.match(/\//g))||[]).length%2!==0}function v(t,e=void 0,h={}){const{errorHandler:p=i=>console.error(i),autoDispose:u=!0}=h,a=o.isRef(t)?t:o.computed(()=>t);let n=()=>{};const r=o.ref(e);return o.watch(a,i=>{n(),a.value?m(a.value)?n=c.onSnapshot(i,l=>{r.value=f(l)||null},p):n=c.onSnapshot(i,l=>{r.value=l.docs.map(f).filter(s.isDef)},p):r.value=e},{immediate:!0}),u===!0?s.tryOnScopeDispose(()=>{n()}):typeof u=="number"&&s.tryOnScopeDispose(()=>{s.useTimeoutFn(()=>{n()},u)}),r}d.useFirestore=v})(this.VueUse=this.VueUse||{},VueUse,firebase,Vue);
